package _1701_1750._1770_Maximum_Score_from_Performing_Multiplication_Operations;

import org.junit.jupiter.params.ParameterizedTest;
import org.junit.jupiter.params.provider.MethodSource;

import java.util.stream.Stream;

import static org.junit.jupiter.api.Assertions.assertEquals;

/**
 * @author jacka
 * @version 1.0 on 4/25/2021
 */
class SolutionITest {

  @ParameterizedTest
  @MethodSource("solutionStream")
  void testOnlineCase1(Solution solution) {
    final int[] nums = {1, 2, 3}, multipliers = {3, 2, 1};
    assertEquals(14, solution.maximumScore(nums, multipliers));
  }

  @ParameterizedTest
  @MethodSource("solutionStream")
  void testOnlineCase2(Solution solution) {
    final int[] nums = {-5, -3, -3, -2, 7, 1}, multipliers = {-10, -5, 3, 4, 6};
    assertEquals(102, solution.maximumScore(nums, multipliers));
  }

  @ParameterizedTest
  @MethodSource("solutionStream")
  void testOnlineCase3(Solution solution) {
    final int[] nums = {
        859, 881, -860, -118, 64, -88, -82, -644, -303, -791, -754, 777, -343, 760, 792, -180, 201, 283, 995, -811,
        404, 964, 777, -441, -971, -297, 538, 620, 104, -659, -445, 160, 494, 738, 279, 481, -91, -673, -570, -766,
        -155, -193, 618, -213, 955, 495, 1000, 158, -842, -904, 172, -473, 468, -859, 272, 968, -129, -776, 181, -684
        , -113, 928, 995, 74, 366, 339, -483, -194, -795, -681, 287, -967, 387, 583, -86, -818, -549, -653, -474,
        -427, -543, -146, -291, 570, 886, -81, 112, 358, 295, -173, 77, 610, -338, -892, -497, -106, 246, -152, -544,
        -62, 239, 2, -420, 626, -550, -195, -796, 740, -273, -989, 253, -993, 584, 879, 345, -539, 526, 539, 945, 80,
        47, -75, -474, 88, -833, 391, -142, 189, -992, 279, 274, -604, 511, -435, 305, 241, -603, 969, 889, 524, 677,
        -793, -716, -971, -370, 327, -114, 186, 220, -248, 218, 627, 140, 759, -631, 415, 136, 516, -860, 778, -343,
        229, 902, 753, -365, -744, -199, -870, 812, -225, -694, -377, 748, 911, 541, 414, -464, 597, -187, -323, 890,
        502, -991, 4, -53, -998, 183, 487, -461, 454, -662, 73, 436, 916, -462, -668, 825, -580, 756, 820, -915, -726
        , -344, -893, 985, 853, -854, 906, 196, 667, 990, -315, -827, 456, -116, 398, 628, -865, 6, -733, -568, -315,
        473, -258, 390, 603, 50, 622, 902, 329, -333, 981, 854, -611, 71, 17, 617, -832, -375, -377, -408, 746, -743,
        903, 619, 525, 328, 375, -814, 38, -204, 579, -402, -888, -627, 309, -225, -911, 481, 406, -397, 41, -627,
        758, -27, -277, -536, 117, 467, -380, -960, -690, -363, 304, -97, -173, 90, -304, -807, 338, 198, 596, -679,
        -549, 168, 430, 555, 356, 800, -205, 968, 374, 958, -114, 281, -547, 486, 410, -703, -114, -420, -916, 297,
        -588, -395, -149, 207, -436, 529, -870, -987, 470, 206, -639, 988, -182, -761, 186, -849, 673, 640, -707, 989
        , -470, 480, -762, -916, -937, -463, 943, -584, 332, 765, -983, -910, 55, 462, 72, 570, 711, 451, 926, -493,
        296, -990, 298, 914, 688, 199, 320, 789, 553, -109, 247, -229, -934, 910, -453, 745, 321, 330, 928, -905,
        -512, -977, 747, 263, 352, 588, -880, -982, 21, -911, -433, 341, -699, -712, -631, -540, -517, 606, -631,
        -838, 25, 86, -682, -271, -570, -523, 839, -885, -433, 107, 102, -137, -754, -495, 156, -768, 811, -779, 406,
        616, 614, -476, 164, 747, 306, 220, -291, 497, -251, -404, -395, 681, -212, -665, 400, 145, -917, 243, -18,
        722, -531, -159, -687, 686, -423, 679, 212, 27, -563, -159, 819, -713, -905, 530, 296, 181, 502, 35, 868,
        -657, 317, 702, 403, 593, -876, 719, 543, -843, 242, 915, 840, 200, -559, -852, -938, -89, -154, 577, -29,
        -35, 44, 12, -33, 729, 736, 98, -640, 187, 304, -924, 349, 989, -164, -91, -788, 471, -996, 829, -974, 360,
        411, -50, -670, -778, -409, 982, -462, 973, -894, 142, -954, -74, -111, 8, -991, 382, 313, 782, 454, -537,
        -954, 844, -430, 906, -459, 511, 27, 94, -387, -514, 53, 704, 653, -918, -764, 544, -338, 978, -236, 907, 281
        , -501, 730, 10, -195, 415, 50, -464, 178, 463, -379, -14, 971, 233, 4, -388, -951, -637, 572, -853, 962, 987
        , 16, -900, 130, -920, -278, -906, -506, -400, 614, 454, 485, 584, 621, 847, 779, 507, 29, -963, 32, 20, -517
        , 556, -968, -989, 352, -659, 977, 213, -741, -111, -630, 692, -995, 932, -426, 396, 413, 440, -598, 812, 638
        , 596, -745, 273, 792, -84, 608, -707, 948, 237, -235, 752, 23, 96, -827, -152, 747, 249, -771, -671, 333,
        -498, 65, -705, -482, -419, -578, 547, -655, 58, -739, 780, 983, -915, -490, 464, 951, 562, 60, 415, -608,
        -125, -205, 308, -850, 187, -764, -859, 934, -62, -965, -214, -928, 459, 842, -526, -347, -276, 954, -714,
        -93, -64, 780, -674, -312, 501, -169, 372, -20, 61, -464, -426, 25, 364, -800, -286, -528, -742, -258, 875,
        -973, -925, 135, -508, -587, -113, -429, 982, 742, -667, 966, -733, -354, 674, -425, -135, 404, -177, 937,
        961, 936, 136, -272, 925, 994, -961, -966, 818, -305, 781, -710, 127, 83, -131, 962, -571, -62, -73, 607, 753
        , -748, 618, 841, -805, 991, 973, 955, 966, 519, -583, 915, 613, 298, 419, 176, -744, -240, 806, 253, 726,
        -925, 583, -638, -439, -340, 496, 433, 589, -85, 302, 686, 45, -619, 398, 26, 521, 716, -208, -608, 443, 128,
        951, 706, 46, -277, -440, 898, -936, -377, -887, 903, -450, 438, -911, 610, -789, -695, 666, -308, 599, -111,
        -494, 476, 94, 526, -284, 233, 594, -891, -468, -125, 206, 823, -958, -950, -56, -633, 555, -426, -154, 150,
        -477, -702, -673, -749, -824, -787, -902, 102, 405, -987, 109, 692, 935, -953, 75, -342, 200, 222, 364, 714,
        -161, -541, -920, 956, 325, 388, 528, -119, -278, 911, 152, -284, 92, 142, -785, -793, -929, -193, -135, 555,
        418, 433, 878, 650, 544, -413, 620, 868, 723, 464, 184, -485, 144, -226, -181, 755, -429, 252, -615, -587,
        938, 313, -420, 292, -890, 845, -874, -426, -626, -266, -942, 836, 421, -46, -681, -588, 711, 81, 419, 928,
        967, -806, 45, -768, 687, 345, -378, 161, 591, -558, -595, 413, -959, 330, -603, 994, -509, -834, 777, -948,
        -748, 487, 268, 627, -952, -808, -219, 758, -350, 52, -218, 605, 373, 804, -42, 874, 138, 276, -536, -966,
        -194, 330, 700, 856, -11, 528, 631, -26, -236, 898, -1, -214, 32, -104, 80, -19, -704, 701, 36, 42, -513, 339
        , 847, -631, 445, 368, 218, 333, 557, -402, -659, 182, -334, -97, -568, 826, 121, -808, -26, -338, 71, -640,
        -415, -644, -103, -64, -936, 960, -466, -382, -833, -791, -276, -407, 303, -488, 42, 232, 994, -959, -899, 64
        , 3, -387, -272, -416, 790, -800, 47, 174, -564, 794, -47, -915, 437, 976, 834, -362, -381, 24, -478, -686,
        601, 4, -244, 484, 105, 260, -610, -988, -517, -43, -635, -739, -144, 726, 730, -917, -680, -383, -987, 429,
        -298, -968, -598, 496, 620, 803, 389, -312, -896, -885, 831, -988, 356, -825, 790, -70, -190, 308, -165, -929
        , 461, 310, 771, -572, -138, -475, -52, -75, 154, 350, 496, -919, -732, -94, 210, 345, -614, -22, 431, -816,
        745, 558, 745, 495, -175, 445, -829, 357, -453, -211, 505, 641, -477, -618, -394, -972, 730, 723, 821, -264,
        -413, 756, 545, 0, 87, -666, -787, -248, 78, -301, -213, -883, 115, 335, 51, 114, 820, -708, 816, -456, -259,
        324, 920, -812, 979, -704, -199, -460, -237, -35, -296, -775, -307, 54, 858, -407, 737, -180, -908, 376, 817,
        -278, -946, -549, -610, -166, -655, -957, 785, 492, -946, -769, 700, -792, 131, -458, 286, 725, -391, 15,
        -222, -549, -801, 101, 984, 426, 973, -882, 592, 731, -468, 256, 996, -652, 345, 665, 440, 51, -308, -826,
        -336, -539, -387, -141, 364, -222, 645, 522, -833, 112, 124, -893, -421, -80, -151, -491, 691, 228, 418, 548,
        -792, 790, 930, -927, -663, 693, -200, 102, -239, 525, 924, -515, -308, 42, 786, -864, -365, -637, 832, 349,
        18, 651, 634, 389, -140, -825, 524, 619, -576, -253, -891, -850, 153, 255, 661, 109, 38, 914, -50, -643, 123,
        189, -448, -327, -723, -839, -503, -77, 485, -831, -851, 406, -205, -586, -215, -523, -711, -729, 225, 576,
        651, -687, -567, -300, 627, 352, 942, 541, 376, -73, -833, 671, -589, 326, 560, 710, 802, 41, 180, 597, 369,
        427, 973, -958, 181, -343, -50, -391, 675, 990, 312, 450, -526, -18, -6, 384, -586, -184, -581, -317, -227,
        884, 450, 941, 176, 555, -445, -151, -266, -950, -708, 17, 208, 387, 974, 761, -567, 685, 607, 200, -866, -1,
        270, -111, 251, -616, -542, 158, -632, -74, 820, -196, 679, 304, -623, -112, -752, -195, 636, -160, 57, 298,
        -872, -173, -838, -66, 339, -429, 303, 987, 718, 549, -637, -675, -686, 912, 809, -892, -403, -187, 610, 773,
        -497, 836, -72, 32, -197, 278, -991, 834, 598, -518, 697, 964, -130, 4, 562, 809, -629, -268, -701, 84, -917,
        -773, -545, -236, 198, 502, -710, 729, -787, 343, 610, -667, 253, 157, 264, 958, -847, 703, 252, 392, -55,
        673, 424, -75, 48, 575, 766, 881, -220, 642, -693, -462, -738, 915, -563, -496, -573, -19, -600, 76, 159, -73
        , -721, -862, -818, 437, -84, 712, 449, 137, -521, -814, -45, -316, 629, -697, 778, 185, -511, 492, -499,
        -277, 151, 13, -224, 353, 573, 939, 719, 319, 322, -651, 860, -629, -445, -177, 19, 988, 603, 911, 870, -634,
        560, -603, 992, -468, 444, -957, -479, 96, -183, 951, -658, 678, 192, 617, 907, -581, -921, 546, -381, 873,
        -632, -450, 619, 870, 643, -419, -180, 965, -550, -942, -901, -452, -171, 160, 378, -870, -513, 525, 462,
        -363, 393, -928, 861, -370, 786, 904, 764, -270, -372, -987, -349, 205, -986, 479, -229, -198, 769, 373, 404,
        -335, 826, -487, -219, 107, 513, 133, -170, -94, -852, -355, 228, 583, 951, 524, -991, 782, 319, -968, -110,
        -253, 726, 904, 475, -21, -944, 251, -850, 50, -610, 266, -714, -743, 338, -606, -739, 298, -512, -515, -995,
        -484, -489, -711, -698, -379, 912, -53, 410, 919, 904, 109, -853, 599, -44, 156, -983, 35, 260, 698, 778, 521
        , 439, 381, -182, 641, 374, 10, 57, 277, -790, 100, -246, -829, 822, -164, -181, 794, -647, -552, 551, 834,
        572, -221, -954, 47, -556, -180, -674, 234, -507, 327, -492, 661, -578, 316, -78, 322, 481, -666, -493, 442,
        398, 987, 570, 986, 883, -555, -779, -269, 216, 7, 874, -520, 269, 705, 849, -253, 173, 216, 569, -904, -10,
        -452, -839, 461, 46, 239, 800, -442, 47, 726, -810, -840, -845, -486, -410, 54, -819, -935, -847, 798, 257,
        135, -195, -366, -605, -445, -349, 474, 430, -913, 746, 285, -980, 763, 330, 848, 808, 620, 802, 1, -483, 90,
        342, 706, -486, -397, 445, 79, -970, -466, 701, -776, 974, 831, -933, 296, 336, -239, -553, 482, -994, 695,
        838, -241, 912, -262, -455, -136, -312, 840, 657, 649, -603, 233, 4, 700, 957, 182, -523, 143, 970, -911, 566
        , -196, -358, 758, 17, 916, 238, -585, -854, 471, 477, 16, -87, -427, -286, -87, -130, 969, 865, 705, -20,
        -353, -411, -880, -97, 479, -671, -478, 987, 268, 434, 680, -966, -969, 429, 709, -904, 492, 928, -194, -515,
        -172, -769, 371, -72, 908, 302, 986, -461, 734, 477, -334, -296, 675, -833, 148, -559, -275, 919, 384, -800,
        -873, 719, 554, 97, 139, -948, -829, -828, -200, -56, -631, -447, 468, -57, 407, 443, 322, 194, -455, -201,
        749, -194, 952, -941, 468, 194, 352, 921, -667, 265, 606, 554, -864, 42, -209, -918, 898, -781, 231, 566,
        -840, -621, 985, -93, -898, -218, -190, -445, -831, -140, 319, 411, 101, 761, 510, -957, 294, 821, 87, 837,
        757, 968, 180, -634, -666, 118, -522, 662, 411, 992, -837, 959, 732, -47, -854, -642, -635, 137, 683, -720,
        -326, 502, -127, 959, 249, -960, 832, -259, -998, -833, 690, -712, -576, -87, -90, 922, -627, -244, -525, 500
        , -775, 258, 440, 141, 843, 43, -983, -236, -619, -213, 81, 123, -933, -248, 320, 173, -185, 95, -857, -578,
        739, -52, -73, -716, 3, -83, -197, -591, -595, -350, 687, 851, -79, -183, -487, -952, -576, -900, 978, 987,
        -259, -53, -173, -840, 753, 332, -287, -516, 241, -779, 332, 58, -97, -447, -170, 810, 463, 515, -848, 576,
        -454, -150, -279, -111, 120, -453, -898, 161, -576, 781, -552, -249, 396, -329, 746, 521, 644, 947, 524, 329,
        -160, -755, 296, -999, 336, 933, 27, -963, 831, -918, 827, -788, 579, 996, 960, 839, 804, -550, 851, -62, 315
        , 531, -8, -804, -8, -186, 870, 850, 481, 721, -463, 715, 537, -609, -642, 295, 137, -397, 834, 866, -105,
        474, -923, -549, -162, -523, -247, 888, -679, -271, -959, -559, -25, 755, -103, -429, -727, 741, 252, 43, -71
        , 686, -529, -997, 667, 422, -655, -236, 438, 606, 539, -196, -919, -490, -400, 470, 824, 206, 91, -966, -518
        , -792, 968, 279, -958, -866, -307, 406, 238, -258, -996, -306, -524, -388, -330, -347, 283, 690, 621, 272,
        -938, -168, 351, -789, 380, -775, -531, 507, -839, 117, 814, -399, -865, -235, 491, -621, 679, -738, -784,
        965, 598, -766, -311, 934, 931, 939, 860, 699, 201, -614, -257, -704, 293, -672, 19, -684, -361, 852, 820,
        -712, -546, 450, -901, 413, -251, -926, 678, 761, -805, -272, 488, 346, 507, 424, -976, 602, 524, -775, 135,
        -400, 39, 540, 386, -813, -230, -6, -680, 762, -590, -580, -876, 91, 373, 444, 679, 610, 590, -832, -809,
        -721, 498, -717, -411, -252, 876, 159, 943, 507, 831, -322, 846, 780, 58, -385, -189, -109, 608, 654, 255,
        -104, 800, -31, 927, 893, -785, -753, 588, -852, 819, 329, -402, 975, 987, 346, 781, 641, -565, -940, -824,
        -845, 522, -288, 908, 459, -949, 37, 906, -886, 390, -448, -52, 450, -471, 995, 494, -647, -922, -631, 115
    }, multipliers = {
        -21, -796, 161, -620, -443, -476, -191, 565, 520, 477, 987, 161, -79, -96, 629, 249, 102, -88, 378, -511,
        -377, 30, -28, 78, -220, -550, 549, 82, 601, -473, -123, -748, -707, 197, 958, -122, -643, 506, -296, -803,
        189, -857, 721, 661, -911, 343, -892, -324, 395, -52, 423, -447, -577, 406, -537, -54, 435, -196, 523, 972,
        -963, -838, 586, -175, -219, -975, 659, 271, 381, 380, 291, 998, -507, -456, 867, -341, -800, 485, 105, 299,
        -671, -676, 664, 598, 929, -54, 115, -890, 297, 983, -525, 605, 970, -907, 569, -253, -138, 617, -391, -688,
        144, 321, -78, 109, 219, -473, 313, -706, 929, -113, 599, 434, -968, -770, 165, -192, -607, -770, -483, 95,
        -187, -104, -671, -438, 443, -763, 947, 656, -802, -889, -574, 565, -486, 41, -898, 21, -860, 818, 438, 589,
        -492, -279, 10, -524, -173, -631, 24, -228, -594, -241, -848, -822, -514, 679, -65, 70, 858, -759, -958, 214,
        518, -138, -527, -918, 349, -983, -487, 97, 720, -597, 115, -977, -171, -924, -265, -563, -981, -283, 326,
        -209, 824, 60, -25, 57, 337, 26, 661, -496, -927, -618, 343, 564, 307, -89, -98, 692, -96, -34, 219, 584, 850
        , -205, -842, 881, -809, 804, -518, 625, 631, 40, 99, -68, 384, -894, 381, -234, 127, 229, 73, 736, -989, -35
        , 785, -492, 136, 837, 568, 567, 393, -4, 996, -855, -503, -832, -588, -405, 180, 964, 31, 586, -907, 828,
        -16, 230, -187, -343, 152, 821, -823, 167, -408, -186, 471, -857, 948, 214, -874, 101, 321, 612, 739, 177,
        530, 258, 612, -431, -449, 924, 722, -871, 839, -792, -602, -717, -197, 752, -501, -973, -646, 227, -125,
        -612, -819, 847, -384, -790, 94, -391, 859, 753, -965, 317, 693, 586, -65, 551, -991, -436, -803, -41, 600,
        542, 105, 929, -425, -120, -733, 410, -22, -407, -840, -542, -401, -464, 14, 459, 903, -799, -18, -89, 53, 24
        , -513, -840, -815, -120, -875, -189, 366, 565, -576, 494, 692, -989, 391, -554, 184, -595, 98, 941, -324,
        -66, 818, 861, 149, 643, -195, -408, 903, -602, -551, -11, 406, -326, -328, 387, -486, -835, 900, -887, 232,
        599, 784, -989, -250, 933, -634, 666, -83, 278, 959, 391, -446, 86, 306, -416, 929, 352, -695, 685, 742, -128
        , -323, -605, 985, 294, -541, 191, 687, 745, 281, -849, 138, -77, -118, -47, 647, -355, -417, 915, 826, 140,
        -611, -654, -390, 83, -795, -717, 992, 282, 349, -326, 103, 224, 620, -317, 580, -369, 635, 47, 263, -56, 442
        , -976, -366, -813, 765, -890, -904, 307, 769, -86, -318, 689, 541, 673, -245, 231, -104, 919, -156, 783, 293
        , -418, 916, 661, -674, -216, 558, 753, 411, -235, 865, -257, -537, 561, 795, -938, 490, -671, 16, 714, -686,
        527, -326, -367, -843, 501, -605, -876, -692, -174, 867, 675, -302, -571, 154, 624, -568, 136, -226, 467, 402
        , 362, -16, 76, -660, -684, 104, 360, -161, 529, -913, -881, 573, 345, 978, 36, -708, 171, 564, 984, -352,
        -737, 667, -999, 742, -769, -653, 278, -899, 213, -846, 838, -949, -613, 507, -342, -756, 308, -711, -147,
        926, 986, 504, -697, 715, 100, 197, 540, 227, 324, -882, 27, -375, 758, -733, -424, -936, 287, 933, -82, -687
        , 965, -472, 275, -654, -926, 365, 93, -509, 917, 763, -599, 799, 747, -735, -6, 889, 934, -664, 214, 292,
        -34, 537, -590, -206, 640, 427, 374, -203, -976, 121, 220, -73, -962, -709, -684, 587, 410, 436, -488, -865,
        322, 471, 248, -605, 76, -197, -745, -926, -870, -784, 251, -116, -279, 338, -810, 945, 61, -14, 599, -296,
        125, -802, -29, -662, 882, -574, 414, -965, 339, -416, -68, 841, 685, -815, 58, 306, 426, -356, -916, 455,
        293, 938, -397, 422, -148, -389, 423, 842, 52, 362, -17, -72, -137, -778, -303, 805, 552, -934, 997, 155,
        -659, -724, 794, -106, -862, -699, -39, 662, -212, 579, -570, 314, 770, -972, 563, 805, -656, 113, -51, 919,
        -39, -106, 960, -179, -502, 571, -549, -294, 901, -368, 997, 146, 280, -28, -752, 325, -270, 78, 296, 839,
        -392, 159, 145, -157, 775, -348, 455, -472, 160, -601, 731, 669, -899, -65, -743, 897, -721, -664, 886, -688,
        -336, -577, 474, 413, 496, -580, -367, -432, -799, 579, -56, 824, 480, -894, 279, -170, -594, 755, 382, -871,
        975, 506, 613, 540, -924, -346, -943, 525, -20, -900, 303, -362, -823, -191, 298, 731, -979, -486, 330, 589,
        916, -816, -888, 39, 952, 175, 821, 985, 365, -109, 430, 213, -563, 951, 926, 623, 185, -239
    };
    assertEquals(212360288, solution.maximumScore(nums, multipliers));
  }

  static Stream<Solution> solutionStream() {
    return Stream.of(
        new SlowSolution(),
        new DpSolution(),
        new ONSpaceDpSolution()
    );
  }
}